{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\gabri\\\\projetos\\\\lerigo-adm\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { MessageService } from 'primeng/api';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../equipe.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"primeng/api\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"primeng/inputtext\";\nimport * as i6 from \"primeng/fileupload\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"primeng/Inputtextarea\";\nimport * as i9 from \"primeng/button\";\n\nfunction EquipCadComponent_img_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 17);\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r3.colaborador.foto, i0.ɵɵsanitizeUrl);\n  }\n}\n\nexport class EquipCadComponent {\n  constructor(equipService, router, route, messageService) {\n    this.equipService = equipService;\n    this.router = router;\n    this.route = route;\n    this.messageService = messageService;\n    this.editando = false;\n    this.colaborador = [];\n  }\n\n  ngOnInit() {\n    const id = this.route.snapshot.params['id'];\n\n    if (id) {\n      this.editando = true;\n      this.carregarPost(id);\n    }\n  }\n\n  gravar() {\n    var _a;\n\n    this.colaborador.id = (_a = this.colaborador.id) !== null && _a !== void 0 ? _a : '';\n    console.log(this.colaborador);\n    this.equipService.gravar(this.colaborador).then(() => {\n      this.messageService.add({\n        severity: 'sucess',\n        summary: 'sucess',\n        detail: 'Gravado com sucesso!'\n      });\n      this.router.navigate([\"equipe-list\"]);\n    }).catch(error => this.messageService.add({\n      severity: 'error',\n      summary: 'Erro',\n      detail: 'Não foi possível gravar os dados!'\n    }));\n  }\n\n  cancelar() {\n    this.router.navigate(['equipe-list']);\n  }\n\n  uploadHandler(foto, uploader) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.colaborador.foto = yield _this.blobToBase64(foto.files[0]);\n      uploader.clear();\n    })();\n  }\n\n  blobToBase64(blob) {\n    return new Promise((resolve, _) => {\n      const reader = new FileReader();\n\n      reader.onloadend = () => resolve(reader.result);\n\n      reader.readAsDataURL(blob);\n    });\n  }\n\n  carregarPost(id) {\n    this.equipService.listarColoborador(id).then(rs => {\n      this.colaborador = rs;\n    }).catch(error => this.messageService.add({\n      severity: 'error',\n      summary: 'Erro',\n      detail: 'Não foi possível carregar os dados!'\n    }));\n  }\n\n}\n\nEquipCadComponent.ɵfac = function EquipCadComponent_Factory(t) {\n  return new (t || EquipCadComponent)(i0.ɵɵdirectiveInject(i1.EquipeService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.MessageService));\n};\n\nEquipCadComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EquipCadComponent,\n  selectors: [[\"app-equip-cad\"]],\n  features: [i0.ɵɵProvidersFeature([MessageService])],\n  decls: 30,\n  vars: 7,\n  consts: [[1, \"container\"], [1, \"p-grid\"], [1, \"p-col-6\", \"p-fluid\"], [\"pInputText\", \"\", \"type\", \"text\", \"name\", \"nome\", 3, \"ngModel\", \"ngModelChange\"], [\"nome\", \"ngModel\"], [\"pInputText\", \"\", \"type\", \"text\", \"name\", \"funcao\", 3, \"ngModel\", \"ngModelChange\"], [\"funcao\", \"ngModel\"], [1, \"p-fluid\", \"p-formgrid\", \"p-grid\"], [1, \"p-field\", \"p-col\", \"foto\"], [\"mode\", \"basic\", \"name\", \"foto\", \"accept\", \"image/*\", \"chooseLabel\", \"Upload\", \"tooltipPosition\", \"right\", 3, \"auto\", \"customUpload\", \"uploadHandler\"], [\"uploader\", \"\"], [\"class\", \"imgResponsive\", \"style\", \"max-width: 300px;\", 3, \"src\", 4, \"ngIf\"], [\"pInputTextarea\", \"\", \"type\", \"text\", \"name\", \"descricao\", 3, \"ngModel\", \"ngModelChange\"], [\"descricao\", \"ngModel\"], [2, \"margin-top\", \"1em\"], [\"pButton\", \"\", \"label\", \"Gravar\", \"icon\", \"pi pi-save\", \"iconPos\", \"left\", 1, \"button\", 3, \"click\"], [\"pButton\", \"\", \"label\", \"Cancelar\", \"icon\", \"pi pi-times-circle\", \"iconPos\", \"left\", 1, \"button\", \"p-button-danger\", 2, \"margin-left\", \"2pt\", 3, \"click\"], [1, \"imgResponsive\", 2, \"max-width\", \"300px\", 3, \"src\"]],\n  template: function EquipCadComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r5 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelementStart(1, \"h2\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1);\n      i0.ɵɵelementStart(4, \"div\", 2);\n      i0.ɵɵelementStart(5, \"label\");\n      i0.ɵɵtext(6, \"Nome\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 3, 4);\n      i0.ɵɵlistener(\"ngModelChange\", function EquipCadComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.colaborador.nome = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 2);\n      i0.ɵɵelementStart(10, \"label\");\n      i0.ɵɵtext(11, \"Fun\\u00E7\\u00E3o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 5, 6);\n      i0.ɵɵlistener(\"ngModelChange\", function EquipCadComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.colaborador.funcao = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 7);\n      i0.ɵɵelementStart(15, \"div\", 8);\n      i0.ɵɵelementStart(16, \"label\");\n      i0.ɵɵtext(17, \"Foto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"p-fileUpload\", 9, 10);\n      i0.ɵɵlistener(\"uploadHandler\", function EquipCadComponent_Template_p_fileUpload_uploadHandler_18_listener($event) {\n        i0.ɵɵrestoreView(_r5);\n\n        const _r2 = i0.ɵɵreference(19);\n\n        return ctx.uploadHandler($event, _r2);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 8);\n      i0.ɵɵtemplate(21, EquipCadComponent_img_21_Template, 1, 1, \"img\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 2);\n      i0.ɵɵelementStart(23, \"label\");\n      i0.ɵɵtext(24, \"Descricao\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"textarea\", 12, 13);\n      i0.ɵɵlistener(\"ngModelChange\", function EquipCadComponent_Template_textarea_ngModelChange_25_listener($event) {\n        return ctx.colaborador.descricao = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 14);\n      i0.ɵɵelementStart(28, \"button\", 15);\n      i0.ɵɵlistener(\"click\", function EquipCadComponent_Template_button_click_28_listener() {\n        return ctx.gravar();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function EquipCadComponent_Template_button_click_29_listener() {\n        return ctx.cancelar();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"\", ctx.editando ? \"Editar\" : \"Novo\", \" Colaborador\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.colaborador.nome);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.colaborador.funcao);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"auto\", true)(\"customUpload\", true);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.colaborador.foto);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.colaborador.descricao);\n    }\n  },\n  directives: [i4.DefaultValueAccessor, i5.InputText, i4.NgControlStatus, i4.NgModel, i6.FileUpload, i7.NgIf, i8.InputTextarea, i9.ButtonDirective],\n  styles: [\".foto[_ngcontent-%COMP%] {\\n  display: inline-block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVxdWlwLWNhZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFCQUFBO0FBQ0oiLCJmaWxlIjoiZXF1aXAtY2FkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZvdG8ge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG59Il19 */\"]\n});","map":{"version":3,"sources":["C:/Users/gabri/projetos/lerigo-adm/src/app/modules/equipe/equip-cad/equip-cad.component.ts"],"names":["MessageService","i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","EquipCadComponent_img_21_Template","rf","ctx","ɵɵelement","ctx_r3","ɵɵnextContext","ɵɵpropertyInterpolate","colaborador","foto","ɵɵsanitizeUrl","EquipCadComponent","constructor","equipService","router","route","messageService","editando","ngOnInit","id","snapshot","params","carregarPost","gravar","_a","console","log","then","add","severity","summary","detail","navigate","catch","error","cancelar","uploadHandler","uploader","blobToBase64","files","clear","blob","Promise","resolve","_","reader","FileReader","onloadend","result","readAsDataURL","listarColoborador","rs","ɵfac","EquipCadComponent_Factory","t","ɵɵdirectiveInject","EquipeService","Router","ActivatedRoute","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵProvidersFeature","decls","vars","consts","template","EquipCadComponent_Template","_r5","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","EquipCadComponent_Template_input_ngModelChange_7_listener","$event","nome","EquipCadComponent_Template_input_ngModelChange_12_listener","funcao","EquipCadComponent_Template_p_fileUpload_uploadHandler_18_listener","ɵɵrestoreView","_r2","ɵɵreference","ɵɵtemplate","EquipCadComponent_Template_textarea_ngModelChange_25_listener","descricao","EquipCadComponent_Template_button_click_28_listener","EquipCadComponent_Template_button_click_29_listener","ɵɵadvance","ɵɵtextInterpolate1","ɵɵproperty","directives","DefaultValueAccessor","InputText","NgControlStatus","NgModel","FileUpload","NgIf","InputTextarea","ButtonDirective","styles"],"mappings":"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","sourcesContent":["import { MessageService } from 'primeng/api';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"../equipe.service\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"primeng/api\";\r\nimport * as i4 from \"@angular/forms\";\r\nimport * as i5 from \"primeng/inputtext\";\r\nimport * as i6 from \"primeng/fileupload\";\r\nimport * as i7 from \"@angular/common\";\r\nimport * as i8 from \"primeng/Inputtextarea\";\r\nimport * as i9 from \"primeng/button\";\r\nfunction EquipCadComponent_img_21_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelement(0, \"img\", 17);\r\n} if (rf & 2) {\r\n    const ctx_r3 = i0.ɵɵnextContext();\r\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r3.colaborador.foto, i0.ɵɵsanitizeUrl);\r\n} }\r\nexport class EquipCadComponent {\r\n    constructor(equipService, router, route, messageService) {\r\n        this.equipService = equipService;\r\n        this.router = router;\r\n        this.route = route;\r\n        this.messageService = messageService;\r\n        this.editando = false;\r\n        this.colaborador = [];\r\n    }\r\n    ngOnInit() {\r\n        const id = this.route.snapshot.params['id'];\r\n        if (id) {\r\n            this.editando = true;\r\n            this.carregarPost(id);\r\n        }\r\n    }\r\n    gravar() {\r\n        var _a;\r\n        this.colaborador.id = (_a = this.colaborador.id) !== null && _a !== void 0 ? _a : '';\r\n        console.log(this.colaborador);\r\n        this.equipService.gravar(this.colaborador)\r\n            .then(() => {\r\n            this.messageService.add({ severity: 'sucess', summary: 'sucess', detail: 'Gravado com sucesso!' });\r\n            this.router.navigate([\"equipe-list\"]);\r\n        })\r\n            .catch(error => this.messageService.add({ severity: 'error', summary: 'Erro', detail: 'Não foi possível gravar os dados!' }));\r\n    }\r\n    cancelar() {\r\n        this.router.navigate(['equipe-list']);\r\n    }\r\n    async uploadHandler(foto, uploader) {\r\n        this.colaborador.foto = await this.blobToBase64(foto.files[0]);\r\n        uploader.clear();\r\n    }\r\n    blobToBase64(blob) {\r\n        return new Promise((resolve, _) => {\r\n            const reader = new FileReader();\r\n            reader.onloadend = () => resolve(reader.result);\r\n            reader.readAsDataURL(blob);\r\n        });\r\n    }\r\n    carregarPost(id) {\r\n        this.equipService.listarColoborador(id)\r\n            .then(rs => {\r\n            this.colaborador = rs;\r\n        })\r\n            .catch(error => this.messageService.add({ severity: 'error', summary: 'Erro', detail: 'Não foi possível carregar os dados!' }));\r\n    }\r\n}\r\nEquipCadComponent.ɵfac = function EquipCadComponent_Factory(t) { return new (t || EquipCadComponent)(i0.ɵɵdirectiveInject(i1.EquipeService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.MessageService)); };\r\nEquipCadComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: EquipCadComponent, selectors: [[\"app-equip-cad\"]], features: [i0.ɵɵProvidersFeature([MessageService])], decls: 30, vars: 7, consts: [[1, \"container\"], [1, \"p-grid\"], [1, \"p-col-6\", \"p-fluid\"], [\"pInputText\", \"\", \"type\", \"text\", \"name\", \"nome\", 3, \"ngModel\", \"ngModelChange\"], [\"nome\", \"ngModel\"], [\"pInputText\", \"\", \"type\", \"text\", \"name\", \"funcao\", 3, \"ngModel\", \"ngModelChange\"], [\"funcao\", \"ngModel\"], [1, \"p-fluid\", \"p-formgrid\", \"p-grid\"], [1, \"p-field\", \"p-col\", \"foto\"], [\"mode\", \"basic\", \"name\", \"foto\", \"accept\", \"image/*\", \"chooseLabel\", \"Upload\", \"tooltipPosition\", \"right\", 3, \"auto\", \"customUpload\", \"uploadHandler\"], [\"uploader\", \"\"], [\"class\", \"imgResponsive\", \"style\", \"max-width: 300px;\", 3, \"src\", 4, \"ngIf\"], [\"pInputTextarea\", \"\", \"type\", \"text\", \"name\", \"descricao\", 3, \"ngModel\", \"ngModelChange\"], [\"descricao\", \"ngModel\"], [2, \"margin-top\", \"1em\"], [\"pButton\", \"\", \"label\", \"Gravar\", \"icon\", \"pi pi-save\", \"iconPos\", \"left\", 1, \"button\", 3, \"click\"], [\"pButton\", \"\", \"label\", \"Cancelar\", \"icon\", \"pi pi-times-circle\", \"iconPos\", \"left\", 1, \"button\", \"p-button-danger\", 2, \"margin-left\", \"2pt\", 3, \"click\"], [1, \"imgResponsive\", 2, \"max-width\", \"300px\", 3, \"src\"]], template: function EquipCadComponent_Template(rf, ctx) { if (rf & 1) {\r\n        const _r5 = i0.ɵɵgetCurrentView();\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"h2\");\r\n        i0.ɵɵtext(2);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"div\", 1);\r\n        i0.ɵɵelementStart(4, \"div\", 2);\r\n        i0.ɵɵelementStart(5, \"label\");\r\n        i0.ɵɵtext(6, \"Nome\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"input\", 3, 4);\r\n        i0.ɵɵlistener(\"ngModelChange\", function EquipCadComponent_Template_input_ngModelChange_7_listener($event) { return ctx.colaborador.nome = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(9, \"div\", 2);\r\n        i0.ɵɵelementStart(10, \"label\");\r\n        i0.ɵɵtext(11, \"Fun\\u00E7\\u00E3o\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(12, \"input\", 5, 6);\r\n        i0.ɵɵlistener(\"ngModelChange\", function EquipCadComponent_Template_input_ngModelChange_12_listener($event) { return ctx.colaborador.funcao = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(14, \"div\", 7);\r\n        i0.ɵɵelementStart(15, \"div\", 8);\r\n        i0.ɵɵelementStart(16, \"label\");\r\n        i0.ɵɵtext(17, \"Foto\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(18, \"p-fileUpload\", 9, 10);\r\n        i0.ɵɵlistener(\"uploadHandler\", function EquipCadComponent_Template_p_fileUpload_uploadHandler_18_listener($event) { i0.ɵɵrestoreView(_r5); const _r2 = i0.ɵɵreference(19); return ctx.uploadHandler($event, _r2); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(20, \"div\", 8);\r\n        i0.ɵɵtemplate(21, EquipCadComponent_img_21_Template, 1, 1, \"img\", 11);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(22, \"div\", 2);\r\n        i0.ɵɵelementStart(23, \"label\");\r\n        i0.ɵɵtext(24, \"Descricao\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(25, \"textarea\", 12, 13);\r\n        i0.ɵɵlistener(\"ngModelChange\", function EquipCadComponent_Template_textarea_ngModelChange_25_listener($event) { return ctx.colaborador.descricao = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(27, \"div\", 14);\r\n        i0.ɵɵelementStart(28, \"button\", 15);\r\n        i0.ɵɵlistener(\"click\", function EquipCadComponent_Template_button_click_28_listener() { return ctx.gravar(); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(29, \"button\", 16);\r\n        i0.ɵɵlistener(\"click\", function EquipCadComponent_Template_button_click_29_listener() { return ctx.cancelar(); });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(2);\r\n        i0.ɵɵtextInterpolate1(\"\", ctx.editando ? \"Editar\" : \"Novo\", \" Colaborador\");\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.colaborador.nome);\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.colaborador.funcao);\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"auto\", true)(\"customUpload\", true);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.colaborador.foto);\r\n        i0.ɵɵadvance(4);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.colaborador.descricao);\r\n    } }, directives: [i4.DefaultValueAccessor, i5.InputText, i4.NgControlStatus, i4.NgModel, i6.FileUpload, i7.NgIf, i8.InputTextarea, i9.ButtonDirective], styles: [\".foto[_ngcontent-%COMP%] {\\n  display: inline-block;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVxdWlwLWNhZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHFCQUFBO0FBQ0oiLCJmaWxlIjoiZXF1aXAtY2FkLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmZvdG8ge1xyXG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG59Il19 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}